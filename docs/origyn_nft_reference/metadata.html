<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="../styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="../origyn_nft_reference/DIP721.html">origyn_nft_reference/DIP721</a></li></li><li><li><a href="../origyn_nft_reference/data.html">origyn_nft_reference/data</a></li></li><li><li><a href="../origyn_nft_reference/dfxtypes.html">origyn_nft_reference/dfxtypes</a></li></li><li><li><a href="../origyn_nft_reference/governance.html">origyn_nft_reference/governance</a></li></li><li><li><a href="../origyn_nft_reference/http.html">origyn_nft_reference/http</a></li></li><li><li><a href="../origyn_nft_reference/kyc.html">origyn_nft_reference/kyc</a></li></li><li><li><a href="../origyn_nft_reference/ledger_interface.html">origyn_nft_reference/ledger_interface</a></li></li><li><li><a href="../origyn_nft_reference/main.html">origyn_nft_reference/main</a></li></li><li><li><a href="../origyn_nft_reference/market.html">origyn_nft_reference/market</a></li></li><li><li><a href="../origyn_nft_reference/metadata.html">origyn_nft_reference/metadata</a></li></li><li><li><a href="../origyn_nft_reference/migrations/lib.html">origyn_nft_reference/migrations/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations/types.html">origyn_nft_reference/migrations/types</a></li></li><li><li><a href="../origyn_nft_reference/migrations/v000_000_000/lib.html">origyn_nft_reference/migrations/v000_000_000/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations/v000_000_000/types.html">origyn_nft_reference/migrations/v000_000_000/types</a></li></li><li><li><a href="../origyn_nft_reference/migrations/v000_001_000/lib.html">origyn_nft_reference/migrations/v000_001_000/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations/v000_001_000/types.html">origyn_nft_reference/migrations/v000_001_000/types</a></li></li><li><li><a href="../origyn_nft_reference/migrations/v000_001_003/lib.html">origyn_nft_reference/migrations/v000_001_003/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations/v000_001_003/types.html">origyn_nft_reference/migrations/v000_001_003/types</a></li></li><li><li><a href="../origyn_nft_reference/migrations/v000_001_004/lib.html">origyn_nft_reference/migrations/v000_001_004/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations/v000_001_004/types.html">origyn_nft_reference/migrations/v000_001_004/types</a></li></li><li><li><a href="../origyn_nft_reference/migrations_storage/lib.html">origyn_nft_reference/migrations_storage/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations_storage/types.html">origyn_nft_reference/migrations_storage/types</a></li></li><li><li><a href="../origyn_nft_reference/migrations_storage/v000_001_000/lib.html">origyn_nft_reference/migrations_storage/v000_001_000/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations_storage/v000_001_000/types.html">origyn_nft_reference/migrations_storage/v000_001_000/types</a></li></li><li><li><a href="../origyn_nft_reference/migrations_storage/v000_001_003/lib.html">origyn_nft_reference/migrations_storage/v000_001_003/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations_storage/v000_001_003/types.html">origyn_nft_reference/migrations_storage/v000_001_003/types</a></li></li><li><li><a href="../origyn_nft_reference/migrations_storage/v000_001_004/lib.html">origyn_nft_reference/migrations_storage/v000_001_004/lib</a></li></li><li><li><a href="../origyn_nft_reference/migrations_storage/v000_001_004/types.html">origyn_nft_reference/migrations_storage/v000_001_004/types</a></li></li><li><li><a href="../origyn_nft_reference/mint.html">origyn_nft_reference/mint</a></li></li><li><li><a href="../origyn_nft_reference/owner.html">origyn_nft_reference/owner</a></li></li><li><li><a href="../origyn_nft_reference/storage_http.html">origyn_nft_reference/storage_http</a></li></li><li><li><a href="../origyn_nft_reference/storage_store.html">origyn_nft_reference/storage_store</a></li></li><li><li><a href="../origyn_nft_reference/types.html">origyn_nft_reference/types</a></li></li><li><li><a href="../origyn_nft_reference/utils.html">origyn_nft_reference/utils</a></li></li><li><li><a href="../origyn_sale_reference/main.html">origyn_sale_reference/main</a></li></li><li><li><a href="../origyn_sale_reference/types.html">origyn_sale_reference/types</a></li></li><li><li><a href="../origyn_storage_reference/storage_canister.html">origyn_storage_reference/storage_canister</a></li></li><li><li><a href="../tests/all_ref.html">tests/all_ref</a></li></li><li><li><a href="../tests/canister_creator.html">tests/canister_creator</a></li></li><li><li><a href="../tests/storage_creator.html">tests/storage_creator</a></li></li><li><li><a href="../tests/test_runner.html">tests/test_runner</a></li></li><li><li><a href="../tests/test_runner_collection.html">tests/test_runner_collection</a></li></li><li><li><a href="../tests/test_runner_data.html">tests/test_runner_data</a></li></li><li><li><a href="../tests/test_runner_instant_transfer.html">tests/test_runner_instant_transfer</a></li></li><li><li><a href="../tests/test_runner_nft.html">tests/test_runner_nft</a></li></li><li><li><a href="../tests/test_runner_nft_2.html">tests/test_runner_nft_2</a></li></li><li><li><a href="../tests/test_runner_sale.html">tests/test_runner_sale</a></li></li><li><li><a href="../tests/test_runner_storage.html">tests/test_runner_storage</a></li></li><li><li><a href="../tests/test_runner_utils.html">tests/test_runner_utils</a></li></li><li><li><a href="../tests/test_utils.html">tests/test_utils</a></li></li><li><li><a href="../tests/test_wallet.html">tests/test_wallet</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#build_library">build_library</a></li></li><li><li><a href="#library_exists">library_exists</a></li></li><li><li><a href="#is_soulbound">is_soulbound</a></li></li><li><li><a href="#is_physical">is_physical</a></li></li><li><li><a href="#is_in_physical_escrow">is_in_physical_escrow</a></li></li><li><li><a href="#set_system_var">set_system_var</a></li></li><li><li><a href="#is_owner">is_owner</a></li></li><li><li><a href="#get_NFTs_for_user">get_NFTs_for_user</a></li></li><li><li><a href="#get_system_var">get_system_var</a></li></li><li><li><a href="#get_library_meta">get_library_meta</a></li></li><li><li><a href="#get_nft_text_property">get_nft_text_property</a></li></li><li><li><a href="#get_nft_principal_property">get_nft_principal_property</a></li></li><li><li><a href="#get_nft_bool_property">get_nft_bool_property</a></li></li><li><li><a href="#get_nft_nat_property">get_nft_nat_property</a></li></li><li><li><a href="#is_minted">is_minted</a></li></li><li><li><a href="#get_nft_id">get_nft_id</a></li></li><li><li><a href="#get_nft_primary_asset">get_nft_primary_asset</a></li></li><li><li><a href="#get_nft_preview_asset">get_nft_preview_asset</a></li></li><li><li><a href="#get_nft_experience_asset">get_nft_experience_asset</a></li></li><li><li><a href="#get_library_item_from_store">get_library_item_from_store</a></li></li><li><li><a href="#account_to_candy">account_to_candy</a></li></li><li><li><a href="#token_spec_to_candy">token_spec_to_candy</a></li></li><li><li><a href="#pricing_to_candy">pricing_to_candy</a></li></li><li><li><a href="#auction_config_to_candy">auction_config_to_candy</a></li></li><li><li><a href="#candy_to_account">candy_to_account</a></li></li><li><li><a href="#get_nft_owner">get_nft_owner</a></li></li><li><li><a href="#set_nft_owner">set_nft_owner</a></li></li><li><li><a href="#is_nft_owner">is_nft_owner</a></li></li><li><li><a href="#get_current_sale_id">get_current_sale_id</a></li></li><li><li><a href="#get_primary_host">get_primary_host</a></li></li><li><li><a href="#get_primary_port">get_primary_port</a></li></li><li><li><a href="#get_primary_protocol">get_primary_protocol</a></li></li><li><li><a href="#get_clean_metadata">get_clean_metadata</a></li></li><li><li><a href="#clean_node">clean_node</a></li></li><li><li><a href="#get_metadata_for_token">get_metadata_for_token</a></li></li><li><li><a href="#add_transaction_record">add_transaction_record</a></li></li><li><li><a href="#announceTransaction">announceTransaction</a></li></li><li><li><a href="#get_nft_library">get_nft_library</a></li></li><li><li><a href="#get_nft_library_array">get_nft_library_array</a></li></li><li><li><a href="#chunk_nft_origyn">chunk_nft_origyn</a></li></li><li><li><a href="#collection_update_nft_origyn">collection_update_nft_origyn</a></li></li><li><li><a href="#ledger_to_candy">ledger_to_candy</a></li></li></ul></nav><div class="documentation"><h1>origyn_nft_reference/metadata</h1><div class="declaration"><h4 class="function" id="build_library"><code><span class="keyword">public func </span><span class="fnname">build_library</span>(<span class="parameter">items</span> : [(<span class="type">Text</span>, [(<span class="type">Text</span>, <span class="type">CandyTypes.AddressedChunkArray</span>)])]) : <span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, <span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, <span class="type">CandyTypes.Workspace</span>&gt;&gt;</code></h4><p><ul><li>Builds a library from a stable type.<ul><li>@param items - an array of tuples containing the name of the library and an array of tuples of the workspace name and the addressed chunk array.</li><li>@returns a TrieMap containing the workspace name and the workspace itself.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="library_exists"><code><span class="keyword">public func </span><span class="fnname">library_exists</span>(<span class="parameter">metaData</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">library_id</span> : <span class="type">Text</span>) : <span class="type">Bool</span></code></h4><p><ul><li>Confirms whether a library exists.<ul><li>@param metaData - the metadata for the token.</li><li>@param library_id - the id of the library.</li><li>@returns a boolean indicating whether the library exists.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="is_soulbound"><code><span class="keyword">public func </span><span class="fnname">is_soulbound</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>) : <span class="type">Bool</span></code></h4><p><ul><li>Confirms whether a token is soulbound.<ul><li>@param metadata - the metadata for the token.</li><li>@returns a boolean indicating whether the token is soulbound.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="is_physical"><code><span class="keyword">public func </span><span class="fnname">is_physical</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>) : <span class="type">Bool</span></code></h4><p><ul><li>Confirms whether a token is a physical item.<ul><li>@param metadata - the metadata for the token.</li><li>@returns a boolean indicating whether the token is a physical item.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="is_in_physical_escrow"><code><span class="keyword">public func </span><span class="fnname">is_in_physical_escrow</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>) : <span class="type">Bool</span></code></h4><p><ul><li>Confirms whether a token is in physical escrow.<ul><li>@param metadata - the metadata for the token.</li><li>@returns a boolean indicating whether the token is in physical escrow.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="set_system_var"><code><span class="keyword">public func </span><span class="fnname">set_system_var</span>(<br/>  <span class="parameter">metaData</span> : <span class="type">CandyTypes.CandyShared</span>, <br/>  <span class="parameter">name</span> : <span class="type">Text</span>, <br/>  <span class="parameter">value</span> : <span class="type">CandyTypes.CandyShared</span><br/>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>Confirms whether a token is in physical escrow.<ul><li>@param metadata - the metadata for the token.</li><li>@returns a boolean indicating whether the token is in physical escrow.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="is_owner"><code><span class="keyword">public func </span><span class="fnname">is_owner</span>(<span class="parameter">metaData</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">account</span> : <a href="types.html#type.Account"><span class="type">Types.Account</span></a>) : <span class="type">Bool</span></code></h4><p><ul><li>checks if an account owns an nft<ul><li>@param {CandyTypes.CandyShared} metaData - the metadata of the NFT</li><li>@param {Types.Account} account - the account to check if they own the NFT</li><li>@return {Boolean} - true if the account owns the NFT, false otherwise</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_NFTs_for_user"><code><span class="keyword">public func </span><span class="fnname">get_NFTs_for_user</span>(<span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <span class="parameter">account</span> : <a href="types.html#type.Account"><span class="type">Types.Account</span></a>) : [<span class="type">Text</span>]</code></h4><p><ul><li>gets all the NFTs for a user<ul><li>@param {Types.State} state - the state of the NFTs</li><li>@param {Types.Account} account - the account to retrieve the NFTs for</li><li>@return {Array&lt;Text&gt;} - an array of NFTs owned by the user</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_system_var"><code><span class="keyword">public func </span><span class="fnname">get_system_var</span>(<span class="parameter">metaData</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">name</span> : <span class="type">Text</span>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>gets a system variable out of the system class<ul><li>@param {CandyTypes.CandyShared} metaData - the metadata to retrieve the system variable from</li><li>@param {Text} name - the name of the system variable to retrieve</li><li>@return {CandyTypes.CandyShared} - the value of the requested system variable</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_library_meta"><code><span class="keyword">public func </span><span class="fnname">get_library_meta</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">library_id</span> : <span class="type">Text</span>) : <span class="type">Result.Result</span>&lt;<span class="type">CandyTypes.CandyShared</span>, <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>gets the metadata for a particular library<ul><li>@param {CandyTypes.CandyShared} metadata - the metadata of the NFT</li><li>@param {Text} library_id - the id of the library to retrieve the metadata for</li><li>@return {Result.Result&lt;CandyTypes.CandyShared, Types.OrigynError&gt;} - a result containing the metadata for the library or an error</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_text_property"><code><span class="keyword">public func </span><span class="fnname">get_nft_text_property</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">prop</span> : <span class="type">Text</span>) : <a href="types.html#type.OrigynTextResult"><span class="type">Types.OrigynTextResult</span></a></code></h4><p><ul><li>gets a text property out of the metadata of an NFT<ul><li>@param {CandyTypes.CandyShared} metadata - the metadata of the NFT</li><li>@param {Text} prop - the property to retrieve from the metadata</li><li>@return {Types.OrigynTextResult} - a result containing the requested text property or an error</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_principal_property"><code><span class="keyword">public func </span><span class="fnname">get_nft_principal_property</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">prop</span> : <span class="type">Text</span>) : <span class="type">Result.Result</span>&lt;<span class="type">Principal</span>, <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>gets a principal property out of the metadata of an NFT<ul><li>@param {CandyTypes.CandyShared} metadata - the metadata of the NFT</li><li>@param {Text} prop - the property to retrieve from the metadata</li><li>@return {Result.Result&lt;Principal, Types.OrigynError&gt;} - a result containing the requested principal property or an error</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_bool_property"><code><span class="keyword">public func </span><span class="fnname">get_nft_bool_property</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">prop</span> : <span class="type">Text</span>) : <a href="types.html#type.OrigynBoolResult"><span class="type">Types.OrigynBoolResult</span></a></code></h4><p><ul><li>Gets a bool property out of the metadata.
 *<ul><li>@param {CandyTypes.CandyShared} metadata - The metadata of the NFT.</li><li>@param {Text} prop - The name of the property to get.</li><li>@returns {Types.OrigynBoolResult} A result containing either the bool property or an error.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_nat_property"><code><span class="keyword">public func </span><span class="fnname">get_nft_nat_property</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">prop</span> : <span class="type">Text</span>) : <span class="type">Result.Result</span>&lt;<span class="type">Nat</span>, <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>Gets a Nat property out of the metadata.
 *<ul><li>@param {CandyTypes.CandyShared} metadata - The metadata of the NFT.</li><li>@param {Text} prop - The name of the property to get.</li><li>@returns {Result.Result&lt;Nat, Types.OrigynError&gt;} A result containing either the Nat property or an error.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="is_minted"><code><span class="keyword">public func </span><span class="fnname">is_minted</span>(<span class="parameter">metaData</span> : <span class="type">CandyTypes.CandyShared</span>) : <span class="type">Bool</span></code></h4><p><ul><li>Checks if an item is minted.
 *<ul><li>@param {CandyTypes.CandyShared} metaData - The metadata of the NFT.</li><li>@returns {Bool} True if the NFT is minted, otherwise false.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_id"><code><span class="keyword">public func </span><span class="fnname">get_nft_id</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>) : <a href="types.html#type.OrigynTextResult"><span class="type">Types.OrigynTextResult</span></a></code></h4><p><ul><li>Gets the id of an NFT.
 *<ul><li>@param {CandyTypes.CandyShared} metadata - The metadata of the NFT.</li><li>@returns {Types.OrigynTextResult} A result containing either the id or an error.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_primary_asset"><code><span class="keyword">public func </span><span class="fnname">get_nft_primary_asset</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>) : <a href="types.html#type.OrigynTextResult"><span class="type">Types.OrigynTextResult</span></a></code></h4><p><ul><li>Gets the primary asset for an NFT.
 *<ul><li>@param {CandyTypes.CandyShared} metadata - The metadata of the NFT.</li><li>@returns {Types.OrigynTextResult} A result containing either the primary asset or an error.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_preview_asset"><code><span class="keyword">public func </span><span class="fnname">get_nft_preview_asset</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>) : <a href="types.html#type.OrigynTextResult"><span class="type">Types.OrigynTextResult</span></a></code></h4><p><ul><li>Gets the preview asset for an NFT.
 *<ul><li>@param {CandyTypes.CandyShared} metadata - The metadata of the NFT.</li><li>@returns {Types.OrigynTextResult} A result containing either the preview asset or an error.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_experience_asset"><code><span class="keyword">public func </span><span class="fnname">get_nft_experience_asset</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>) : <a href="types.html#type.OrigynTextResult"><span class="type">Types.OrigynTextResult</span></a></code></h4><p><ul><li>Gets the experience asset for an NFT.
 *<ul><li>@param {CandyTypes.CandyShared} metadata - The metadata of the NFT.</li><li>@returns {Types.OrigynTextResult} A result containing either the experience asset or an error.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_library_item_from_store"><code><span class="keyword">public func </span><span class="fnname">get_library_item_from_store</span>(<br/>  <span class="parameter">store</span> : <span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, <span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, <span class="type">CandyTypes.Workspace</span>&gt;&gt;, <br/>  <span class="parameter">token_id</span> : <span class="type">Text</span>, <br/>  <span class="parameter">library_id</span> : <span class="type">Text</span><br/>) : <span class="type">Result.Result</span>&lt;<span class="type">CandyTypes.Workspace</span>, <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>Gets a library item from the store.
 *<ul><li>@param {TrieMap.TrieMap&lt;Text, TrieMap.TrieMap&lt;Text, CandyTypes.Workspace&gt;&gt;} store - The store containing the library items.</li><li>@param {Text} token_id - The id of the token.</li><li>@param {Text} library_id - The id of the library.</li><li>@returns {Result.Result&lt;CandyTypes.Workspace, Types.OrigynError&gt;} A result containing either the library item or an error.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="account_to_candy"><code><span class="keyword">public func </span><span class="fnname">account_to_candy</span>(<span class="parameter">val</span> : <a href="types.html#type.Account"><span class="type">Types.Account</span></a>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>Converts an account value to a CandyShared.<ul><li>@param {Types.Account} val - The account value to convert.</li><li>@returns {CandyTypes.CandyShared} The converted CandyShared.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="token_spec_to_candy"><code><span class="keyword">public func </span><span class="fnname">token_spec_to_candy</span>(<span class="parameter">val</span> : <a href="types.html#type.TokenSpec"><span class="type">Types.TokenSpec</span></a>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>Converts a token specification to a CandyShared.<ul><li>@param {Types.TokenSpec} val - The token specification to convert.</li><li>@returns {CandyTypes.CandyShared} The converted CandyShared.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="pricing_to_candy"><code><span class="keyword">public func </span><span class="fnname">pricing_to_candy</span>(<span class="parameter">val</span> : <a href="types.html#type.PricingConfig"><span class="type">Types.PricingConfig</span></a>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>Converts a pricing configuration to a CandyShared.<ul><li>@param {Types.PricingConfig} val - The pricing configuration to convert.</li><li>@returns {CandyTypes.CandyShared} The converted CandyShared.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="auction_config_to_candy"><code><span class="keyword">public func </span><span class="fnname">auction_config_to_candy</span>(<span class="parameter">val</span> : <a href="types.html#type.AuctionConfig"><span class="type">Types.AuctionConfig</span></a>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>Converts an auction configuration to a CandyShared.<ul><li>@param {Types.AuctionConfig} val - The auction configuration to convert.</li><li>@returns {CandyTypes.CandyShared} The converted CandyShared.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="candy_to_account"><code><span class="keyword">public func </span><span class="fnname">candy_to_account</span>(<span class="parameter">val</span> : <span class="type">CandyTypes.CandyShared</span>) : <a href="types.html#type.BearerResult"><span class="type">Types.BearerResult</span></a></code></h4><p><ul><li>Converts a CandyShared to an account value.<ul><li>@param {CandyTypes.CandyShared} val - The CandyShared to convert.</li><li>@returns {Types.BearerResult} The converted account value.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_owner"><code><span class="keyword">public func </span><span class="fnname">get_nft_owner</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>) : <a href="types.html#type.BearerResult"><span class="type">Types.BearerResult</span></a></code></h4><p><ul><li>Gets the owner of an NFT in the owner field.<ul><li>@param {CandyTypes.CandyShared} metadata - The metadata of the NFT.</li><li>@returns {Types.BearerResult} The owner of the NFT.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="set_nft_owner"><code><span class="keyword">public func </span><span class="fnname">set_nft_owner</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">token_id</span> : <span class="type">Text</span>, <br/>  <span class="parameter">new_owner</span> : <a href="types.html#type.Account"><span class="type">Types.Account</span></a>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span><br/>) : <span class="type">Result.Result</span>&lt;<span class="type">CandyTypes.CandyShared</span>, <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>Sets the owner of an NFT.<ul><li>@param {Types.State} state - The state of the contract.</li><li>@param {Text} token_id - The ID of the token to update.</li><li>@param {Types.Account} new_owner - The new owner of the token.</li><li>@param {Principal} caller - The principal of the caller.</li><li>@returns {Result.Result&lt;CandyTypes.CandyShared, Types.OrigynError&gt;} The updated metadata of the NFT.</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="is_nft_owner"><code><span class="keyword">public func </span><span class="fnname">is_nft_owner</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">anAccount</span> : <a href="types.html#type.Account"><span class="type">Types.Account</span></a>) : <a href="types.html#type.OrigynBoolResult"><span class="type">Types.OrigynBoolResult</span></a></code></h4><p><ul><li>Checks if the provided account is the owner of the specified NFT.
 *<ul><li>@param {CandyTypes.CandyShared} metadata - Metadata of the NFT</li><li>@param {Types.Account} anAccount - The account to check if it's the owner</li><li>@returns {Types.OrigynBoolResult} - Result object containing a boolean indicating whether or not the provided account is the owner of the NFT</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_current_sale_id"><code><span class="keyword">public func </span><span class="fnname">get_current_sale_id</span>(<span class="parameter">metaData</span> : <span class="type">CandyTypes.CandyShared</span>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>Gets the current sale (or last finished sale) for the specified NFT.
 *<ul><li>@param {CandyTypes.CandyShared} metaData - Metadata of the NFT</li><li>@returns {CandyTypes.CandyShared} - The current sale ID (or empty if no sale exists)</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_primary_host"><code><span class="keyword">public func </span><span class="fnname">get_primary_host</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">token_id</span> : <span class="type">Text</span>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span><br/>) : <a href="types.html#type.OrigynTextResult"><span class="type">Types.OrigynTextResult</span></a></code></h4><p><ul><li>Gets the primary host of the specified NFT. Used for testing redirects locally.
 *<ul><li>@param {Types.State} state - The current state of the system</li><li>@param {Text} token_id - The ID of the NFT</li><li>@param {Principal} caller - The caller's principal ID</li><li>@returns {Types.OrigynTextResult} - Result object containing a string of the primary host of the NFT, or an error if it couldn't be found</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_primary_port"><code><span class="keyword">public func </span><span class="fnname">get_primary_port</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">token_id</span> : <span class="type">Text</span>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span><br/>) : <a href="types.html#type.OrigynTextResult"><span class="type">Types.OrigynTextResult</span></a></code></h4><p><ul><li>Gets the primary port of the specified NFT. Used for testing redirects locally.
 *<ul><li>@param {Types.State} state - The current state of the system</li><li>@param {Text} token_id - The ID of the NFT</li><li>@param {Principal} caller - The caller's principal ID</li><li>@returns {Types.OrigynTextResult} - Result object containing a string of the primary port of the NFT, or an error if it couldn't be found</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_primary_protocol"><code><span class="keyword">public func </span><span class="fnname">get_primary_protocol</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">token_id</span> : <span class="type">Text</span>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span><br/>) : <a href="types.html#type.OrigynTextResult"><span class="type">Types.OrigynTextResult</span></a></code></h4><p><ul><li>Gets the primary protocol of the specified NFT. Used for testing redirects locally.
 *<ul><li>@param {Types.State} state - The current state of the system</li><li>@param {Text} token_id - The ID of the NFT</li><li>@param {Principal} caller - The caller's principal ID</li><li>@returns {Types.OrigynTextResult} - Result object containing a string of the primary protocol of the NFT, or an error if it couldn't be found</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_clean_metadata"><code><span class="keyword">public func </span><span class="fnname">get_clean_metadata</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">caller</span> : <span class="type">Principal</span>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>Cleans metadata according to permissions.
 *<ul><li>@param {CandyTypes.CandyShared} metadata - The metadata to clean</li><li>@param {Principal} caller - The caller's principal ID</li><li>@returns {CandyTypes.CandyShared} - The cleaned metadata</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="clean_node"><code><span class="keyword">public func </span><span class="fnname">clean_node</span>(<br/>  <span class="parameter">a_class</span> : <span class="type">CandyTypes.CandyShared</span>, <br/>  <span class="parameter">owner</span> : ?<a href="types.html#type.Account"><span class="type">Types.Account</span></a>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span><br/>) : <span class="type">CandyTypes.CandyShared</span></code></h4><p><ul><li>Cleans a node in metadata based on permissions<ul><li>@param {CandyTypes.CandyShared} a_class - the node to clean</li><li>@param {?Types.Account} owner - the account that owns the node, if any</li><li>@param {Principal} caller - the principal making the request</li><li>@returns {CandyTypes.CandyShared} the cleaned node</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_metadata_for_token"><code><span class="keyword">public func </span><span class="fnname">get_metadata_for_token</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">token_id</span> : <span class="type">Text</span>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span>, <br/>  <span class="parameter">canister</span> : ?<span class="type">Principal</span>, <br/>  <span class="parameter">canister_owner</span> : <span class="type">Principal</span><br/>) : <span class="type">Result.Result</span>&lt;<span class="type">CandyTypes.CandyShared</span>, <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>Retrieves the metadata for a token<ul><li>@param {Types.State} state - the current state of the canister</li><li>@param {Text} token_id - the ID of the token to retrieve metadata for</li><li>@param {Principal} caller - the caller of the function</li><li>@param {Principal|null} canister - the ID of the canister to retrieve metadata for</li><li>@param {Principal} canister_owner - the owner of the canister</li><li>@returns {Result.Result&lt;CandyTypes.CandyShared, Types.OrigynError&gt;} - the result of the metadata retrieval attempt</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="add_transaction_record"><code><span class="keyword">public func </span><span class="fnname">add_transaction_record</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">rec</span> : <a href="migrations/types.html#Current.type.TransactionRecord"><span class="type">MigrationTypes.Current.TransactionRecord</span></a>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span><br/>) : <span class="type">Result.Result</span>&lt;<a href="migrations/types.html#Current.type.TransactionRecord"><span class="type">MigrationTypes.Current.TransactionRecord</span></a>, <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>Adds a transaction record to the ledger<ul><li>@param {Types.State} state - the current state of the canister</li><li>@param {Types.TransactionRecord} rec - the transaction record to add</li><li>@param {Principal} caller - the caller of the function</li><li>@returns {Result.Result&lt;Types.TransactionRecord, Types.OrigynError&gt;} - the result of the transaction record addition attempt</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="announceTransaction"><code><span class="keyword">public func </span><span class="fnname">announceTransaction</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">rec</span> : <a href="migrations/types.html#Current.type.TransactionRecord"><span class="type">MigrationTypes.Current.TransactionRecord</span></a>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span>, <br/>  <span class="parameter">newTrx</span> : <a href="migrations/types.html#Current.type.TransactionRecord"><span class="type">MigrationTypes.Current.TransactionRecord</span></a><br/>) : ()</code></h4><p><ul><li>Announces a transaction<ul><li>@param {Types.State} state - the current state of the canister</li><li>@param {Types.TransactionRecord} rec - the transaction record being announced</li><li>@param {Principal} caller - the caller of the function</li><li>@param {Types.TransactionRecord} newTrx - the newly added transaction record</li><li>@returns {void}</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_library"><code><span class="keyword">public func </span><span class="fnname">get_nft_library</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">caller</span> : ?<span class="type">Principal</span>) : <span class="type">Result.Result</span>&lt;<span class="type">CandyTypes.CandyShared</span>, <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>Retrieves the library metadata for an NFT<ul><li>@param {CandyTypes.CandyShared} metadata - the metadata for the NFT</li><li>@param {Principal} [caller=null] - the caller of the function</li><li>@returns {Result.Result&lt;CandyTypes.CandyShared, Types.OrigynError&gt;} - the result of the metadata retrieval attempt</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="get_nft_library_array"><code><span class="keyword">public func </span><span class="fnname">get_nft_library_array</span>(<span class="parameter">metadata</span> : <span class="type">CandyTypes.CandyShared</span>, <span class="parameter">caller</span> : ?<span class="type">Principal</span>) : <span class="type">Result.Result</span>&lt;[<span class="type">CandyTypes.CandyShared</span>], <a href="types.html#type.OrigynError"><span class="type">Types.OrigynError</span></a>&gt;</code></h4><p><ul><li>Retrieves an array of the library metadata for an NFT<ul><li>@param {CandyTypes.CandyShared} metadata - the metadata for the NFT</li><li>@param {Principal} [caller=null] - the caller of the function</li><li>@returns {Result.Result&lt;[CandyTypes.CandyShared], Types.OrigynError&gt;} - the result of the metadata retrieval attempt</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="chunk_nft_origyn"><code><span class="keyword">public func </span><span class="fnname">chunk_nft_origyn</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">request</span> : <a href="types.html#type.ChunkRequest"><span class="type">Types.ChunkRequest</span></a>, <br/>  <span class="parameter">caller</span> : ?<span class="type">Principal</span><br/>) : <a href="types.html#type.ChunkResult"><span class="type">Types.ChunkResult</span></a></code></h4><p><ul><li>Gets a specific chunk out of the library storage
 *<ul><li>@param {Types.State} state - the current state of the canister</li><li>@param {Types.ChunkRequest} request - the request for the chunk content</li><li>@param {?Principal} caller - the principal making the request</li><li>@returns {Types.ChunkResult} - a Result type containing either the chunk content or an error message</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="collection_update_nft_origyn"><code><span class="keyword">public func </span><span class="fnname">collection_update_nft_origyn</span>(<br/>  <span class="parameter">state</span> : <a href="types.html#type.State"><span class="type">Types.State</span></a>, <br/>  <span class="parameter">request</span> : <a href="types.html#type.ManageCollectionCommand"><span class="type">Types.ManageCollectionCommand</span></a>, <br/>  <span class="parameter">caller</span> : <span class="type">Principal</span><br/>) : <a href="types.html#type.OrigynBoolResult"><span class="type">Types.OrigynBoolResult</span></a></code></h4><p><ul><li>Updates collection data<ul><li>@param {Types.State} state - The state of the collection</li><li>@param {Types.ManageCollectionCommand} request - The collection data to be updated</li><li>@param {Principal} caller - The principal of the caller</li><li>@returns {Types.OrigynBoolResult} - A Result object containing a boolean indicating the success or failure of the update and an OrigynError in case of failure</li></ul></li></ul></p></div><div class="declaration"><h4 class="function" id="ledger_to_candy"><code><span class="keyword">public func </span><span class="fnname">ledger_to_candy</span>(<br/>  <span class="parameter">ledger</span> : <span class="type">SB.StableBuffer</span>&lt;<a href="migrations/types.html#Current.type.TransactionRecord"><span class="type">MigrationTypes.Current.TransactionRecord</span></a>&gt;, <br/>  <span class="parameter">page</span> : <span class="type">Nat</span>, <br/>  <span class="parameter">size</span> : <span class="type">Nat</span><br/>) : [<span class="type">CandyTypes.CandyShared</span>]</code></h4><p><ul><li>Converts a ledger of transaction records to an array of CandyShareds<ul><li>@param {SB.StableBuffer&lt;Types.TransactionRecord&gt;} ledger - The ledger to convert</li><li>@param {Nat} page - The page number of results to return</li><li>@param {Nat} size - The number of results to return per page</li><li>@returns {[CandyTypes.CandyShared]} - An array of CandyShareds</li></ul></li></ul></p></div></div></body></html>